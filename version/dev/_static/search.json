[{"objectID":"Home","href":"usage/cosim.html#white-box-simulation-with-scade-suite","title":"White-Box Simulation with SCADE Suite","text":"White-Box Simulation with SCADE Suite"},{"objectID":"Home","href":"usage/cosim.html#usage","title":"White-Box Simulation with SCADE Suite > Usage","text":"Usage\n\nWhen the Enable co-simulation option is set, the wrapper produces\nadditional code to connect to the SCADE Simulator, based on the ssmproxy.py\nlibrary file, which is copied to the target directory for convenience.\nIt relies on the C API for Co-Simulation:\nCf. the Using Simulation API for Co-Simulation section in the SCADE Suite User Manual\nfor details.\n\nThe call_cycle method presents two additional inputs:\n\nrefresh: bool = True: to refresh the SCADE Suite Simulation\ninterface.\n\ndebug: bool = False: to pause the SCADE Simulator and wait for its\nGo button being pressed.\n\nTo use the co-simulation, you must build your model twice,\nusing the same root operator:\n\nUsing the target Proxy for Python with the Enable co-simulation\noption set.\n\nUsing the configuration Simulation.\n\nThe Python class for the root operator has a parameter cosim: bool = True.\nWhen the parameter is set to False, the co-simulation is deactivated:\nYou can alternate both modes without rebuilding the proxy."},{"objectID":"Home","href":"usage/cosim.html#basic-customization","title":"White-Box Simulation with SCADE Suite > Basic Customization","text":"Basic Customization\n\nThe co-simulation requires several parameters that are initialized as follows\nby default:\n\nscade_dir: str: Path to the SCADE bin directory.\n\nDefault: The directory of the tool used to produce the Python proxy,\nfor example r\"C:\\Program Files\\ANSYS Inc\\v242\\SCADE\\SCADE\\bin\".\n\nhost: str: Hostname to connect and run the SCADE Simulator.\n\nDefault: “127.0.0.1”\n\nproject: str: Path to the SCADE Suite project.\n\nDefault: Path to the project used to build the Python proxy.\n\nconfiguration: str: Name of the configuration used by the SCADE\nSimulator.\n\nDefault: \"Simulation\"\n\nroot: str: Path to the root operator.\n\nDefault: Root operator of the configuration used to produce the Python proxy.\n\nport: int: Port used for the communication.\n\nDefault: Port number specified in the project’s Simulation properties, 64064 by default.\n\nUse the set_cosim_environment function, defined in the Python proxy,\nto override any of these parameters before creating the instance of the\nroot operator."},{"objectID":"Home","href":"usage/cosim.html#advanced-customization","title":"White-Box Simulation with SCADE Suite > Advanced Customization","text":"Advanced Customization\n\nIt is possible to create your own instance of SCADE Simulator proxy,\nthe SsmProxy class, including using a derived class.\nThis allows using all the capabilities of the API for Co-Simulation to tune\nthe co-simulation with respect to your environment.\n\nThe client script must create an instance of this class, and declare it using\nthe set_ssm_proxy function. This must be done before creating the instance\nof the Python proxy for the root operator."},{"objectID":"Release notes","href":"changelog.html#release-notes","title":"Release notes","text":"Release notes\n\nThis document contains the release notes for the project."},{"objectID":"Release notes","href":"changelog.html#223---march-20-2025","title":"Release notes > 2.2.3 - March 20, 2025","text":"2.2.3 - March 20, 2025\n\nAdded\n\n\n\n\n\nfeat: Add register and unregister entry points for Extensions Manager\n\n#28\n\nMaintenance\n\n\n\n\n\nci: Fix steps for creating a release\n\n#27"},{"objectID":"Release notes","href":"changelog.html#222---2025-01-22","title":"Release notes > 2.2.2 - 2025-01-22","text":"2.2.2 - 2025-01-22"},{"objectID":"Release notes","href":"changelog.html#fixed","title":"Release notes > Fixed","text":"Fixed\n\nfix: documentation link #23"},{"objectID":"Release notes","href":"changelog.html#20dev0---2025-01-22","title":"Release notes > 2.0.dev0 - 2025-01-22","text":"2.0.dev0 - 2025-01-22"},{"objectID":"Release notes","href":"changelog.html#fixed","title":"Release notes > Fixed","text":"Fixed\n\nfix: trusted publisher permissions #21"},{"objectID":"Release notes","href":"changelog.html#documentation","title":"Release notes > Documentation","text":"Documentation\n\nchore: update CHANGELOG for v2.1.0 #20"},{"objectID":"Release notes","href":"changelog.html#test","title":"Release notes > Test","text":"Test\n\ntest: Fix the tests that produce a DLL #13"},{"objectID":"Release notes","href":"changelog.html#210---2025-01-20","title":"Release notes > 2.1.0 - 2025-01-20","text":"2.1.0 - 2025-01-20"},{"objectID":"Release notes","href":"changelog.html#added","title":"Release notes > Added","text":"Added\n\nfeat: Accept Python literals for inputs #19"},{"objectID":"Release notes","href":"changelog.html#fixed","title":"Release notes > Fixed","text":"Fixed\n\nfix: technical review #12\n\nfix: Avoid name conflict with legacy WrapUtilsEx 1.x #18"},{"objectID":"Release notes","href":"changelog.html#dependencies","title":"Release notes > Dependencies","text":"Dependencies\n\nchore(deps): bump the dependencies group with 4 updates #9\n\nchore(deps): bump the dependencies group across 1 directory with 4 updates #16"},{"objectID":"Release notes","href":"changelog.html#documentation","title":"Release notes > Documentation","text":"Documentation\n\nchore: update CHANGELOG for v2.0.0 #6\n\nchore: update CHANGELOG for v2.0.1 #8\n\ndocs: Add minimal doc-strings. #10\n\ndocs: review of user documentation #11"},{"objectID":"Release notes","href":"changelog.html#maintenance","title":"Release notes > Maintenance","text":"Maintenance\n\nchore(deps): bump codecov/codecov-action from 4 to 5 in the actions group #15"},{"objectID":"Release notes","href":"changelog.html#test","title":"Release notes > Test","text":"Test\n\nchore: Update license headers #17"},{"objectID":"Release notes","href":"changelog.html#201---2024-10-10","title":"Release notes > 2.0.1 - 2024-10-10","text":"2.0.1 - 2024-10-10"},{"objectID":"Release notes","href":"changelog.html#fixed","title":"Release notes > Fixed","text":"Fixed\n\nfix: Fix the path of the registered scripts #7"},{"objectID":"Release notes","href":"changelog.html#200---2024-10-10","title":"Release notes > 2.0.0 - 2024-10-10","text":"2.0.0 - 2024-10-10"},{"objectID":"Release notes","href":"changelog.html#added","title":"Release notes > Added","text":"Added\n\nfeat: Migrate the original repository to GitHub #1"},{"objectID":"Release notes","href":"changelog.html#fixed","title":"Release notes > Fixed","text":"Fixed\n\nfix: Minor issues #5"},{"objectID":"Release notes","href":"changelog.html#dependencies","title":"Release notes > Dependencies","text":"Dependencies\n\nBump the dependencies group with 4 updates #3"},{"objectID":"Release notes","href":"changelog.html#maintenance","title":"Release notes > Maintenance","text":"Maintenance\n\nBump the actions group with 2 updates #2\n\nci: Activate the unit tests #4"},{"objectID":"Home","href":"index.html#ansys-scade-python-wrapper","title":"Ansys SCADE Python Wrapper","text":"Ansys SCADE Python Wrapper\n\nThis tool provides a Python proxy to a SCADE Suite application.\nIt allows running the application in regular batch mode, or using\nSCADE Suite white box co-simulation, through SsmSlaveLib.c services.\n\nThe package supports SCADE Suite 2021 R2 and greater, and is made of the\nfollowing components:\n\nSCADE Suite Code Generator extension\n\nSCADE Suite Custom Extension: Settings page for the wrapper\n\nRefer to the section Generating Integration Code from SCADE Suite, in the\ndocument SCADE Python API Guide of the SCADE Suite documentation,\nfor a complete reference of SCADE Code Generator extensions, also known as\nwrappers."},{"objectID":"Home","href":"index.html#contents","title":"Ansys SCADE Python Wrapper > Contents","text":"Contents\n\n"},{"objectID":"Home","href":"index.html#indices-and-tables","title":"Ansys SCADE Python Wrapper > Indices and tables","text":"Indices and tables\n\ngenindex\n\nsearch"},{"objectID":"Contribute","href":"contributing.html#contribute","title":"Contribute","text":"Contribute\n\nOverall guidance on contributing to a PyAnsys library appears in\nContributing\nin the PyAnsys developer’s guide. Ensure that you are thoroughly familiar\nwith this guide before attempting to contribute to Ansys SCADE Python Wrapper.\n\nThe following contribution information is specific to Ansys SCADE Python Wrapper."},{"objectID":"Contribute","href":"contributing.html#install-in-developer-mode","title":"Contribute > Install in developer mode","text":"Install in developer mode\n\nInstalling Ansys SCADE Python Wrapper in developer mode allows you to modify the\nsource and enhance it.\n\nClone the ansys-scade-python-wrapper repository:\n\nAccess the scade-python-wrapper directory where the repository has been cloned:\n\nCreate a clean Python 3.10 environment and activate it:\n\nYou should use the interpreter delivered with Ansys SCADE. For example,\nC:\\Program Files\\ANSYS Inc\\v241\\SCADE\\contrib\\Python310\\python.exe.\n\nMake sure that you have the latest required build system, documentation, testing,\nand CI tools:\n\nInstall the project in editable mode:\n\nUse tox to verify your development installation:"},{"objectID":"Contribute","href":"contributing.html#unit-test","title":"Contribute > Unit test","text":"Unit test\n\nAnsys SCADE Python Wrapper uses tox for testing. This tool allows you to\nautomate common development tasks (similar to Makefile), but it is oriented\ntowards Python development."},{"objectID":"Contribute","href":"contributing.html#use-tox","title":"Contribute > Use tox","text":"Use tox\n\nWhile Makefile has rules, tox has environments. In fact, tox creates its\nown virtual environment so that anything being tested is isolated from the project\nto guarantee the project’s integrity.\n\nThe following tox commands are provided:\n\ntox -e style: Checks for coding style quality.\n\ntox -e py: Checks for unit tests.\n\ntox -e py-coverage: Checks for unit testing and code coverage.\n\ntox -e doc: Checks for the documentation-building process."},{"objectID":"Contribute","href":"contributing.html#use-raw-testing","title":"Contribute > Use raw testing","text":"Use raw testing\n\nIf required, from the command line, you can call style commands like\nruff. You can also call unit testing commands like pytest.\nHowever, running these commands does not guarantee that your project is being tested in an\nisolated environment, which is the reason why tools like tox exist."},{"objectID":"Contribute","href":"contributing.html#use-pre-commit","title":"Contribute > Use pre-commit","text":"Use pre-commit\n\nAnsys SCADE Python Wrapper follows the PEP8 standard as outlined in\nPEP 8 in\nthe PyAnsys developer’s guide and implements style checking using\npre-commit.\n\nTo ensure your code meets minimum code styling standards, run these commands:\n\nYou can also install this as a pre-commit hook by running this command:\n\nThis way, it’s not possible for you to push code that fails the style checks:"},{"objectID":"Contribute","href":"contributing.html#build-documentation","title":"Contribute > Build documentation","text":"Build documentation\n\nFor building documentation, you can run the usual rules provided in the\nSphinx make file. Here are some examples:\n\nHowever, the recommended way of checking documentation integrity is to use\ntox:"},{"objectID":"Contribute","href":"contributing.html#debug-and-integration-test","title":"Contribute > Debug and integration test","text":"Debug and integration test\n\nAnsys SCADE Python Wrapper needs to be registered to SCADE for integration testing.\nIndeed, the generation modules are called from a SCADE code generator session."},{"objectID":"Contribute","href":"contributing.html#install-in-user-mode","title":"Contribute > Install in user mode","text":"Install in user mode\n\nIt is not possible to reuse the virtual environment setup for the repository.\nYou must install the package in an environment accessible by SCADE, for\nexample its own Python distribution, although this is not advised,\nor the Python 3.10 user distribution:\n\nYou can reuse any <install>\\SCADE\\contrib\\Python310\\python.exe\nor Python 3.10 installation on your computer.\n\nIf you are using Ansys SCADE 2024 R2 or below, you must perform one additional\nstep, to install a registration file in %APPDATA%\\SCADE\\Customize:"},{"objectID":"Contribute","href":"contributing.html#debug","title":"Contribute > Debug","text":"Debug\n\nThe .\\tests\\Debug\\debug.py script uses internal SCADE Code Generator entry points\nto start a debug session for the scripts.\n\nYou must use the Python 3.10 environment delivered with SCADE, located in\n<install>\\contrib\\Python310.\n\nFor example:\nC:\\Program Files\\ANSYS Inc\\v251\\SCADE\\contrib\\Python310.\n\nConfigure PYTHONPATH to refer to <install>\\SCADE\\bin and\n<install>\\SCADE\\APIs\\Python\\lib. For example:\n\nRefer to .\\tests\\Debug\\debug.py for its command line parameters."},{"objectID":"Contribute","href":"contributing.html#run-the-integration-tests","title":"Contribute > Run the integration tests","text":"Run the integration tests\n\nThese are manual tests. Refer to the test procedures, contained in each test\ndirectory as readme files."},{"objectID":"Contribute","href":"contributing.html#uninstall","title":"Contribute > Uninstall","text":"Uninstall\n\nOnce the test or debug sessions are completed, you may uninstall the package\nas follows:\n\nIf you are using Ansys SCADE 2024 R2 or below, you should remove the\nregistration file:"},{"objectID":"Contribute","href":"contributing.html#distribute","title":"Contribute > Distribute","text":"Distribute\n\nIf you would like to create either source or wheel files, start by installing\nthe building requirements and then executing the build module:"},{"objectID":"Contribute","href":"contributing.html#post-issues","title":"Contribute > Post issues","text":"Post issues\n\nUse the Ansys SCADE Python Wrapper Issues\npage to submit questions, report bugs, and request new features. When possible, use\nthese templates:\n\nBug, problem, error: For filing a bug report\n\nDocumentation error: For requesting modifications to the documentation\n\nAdding an example: For proposing a new example\n\nNew feature: For requesting enhancements to the code\n\nIf your issue does not fit into one of these template categories, click\nthe link for opening a blank issue.\n\nTo reach the project support team, email pyansys.core@ansys.com.\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"objectID":"Home","href":"usage/wrapper.html#wrapper","title":"Wrapper","text":"Wrapper"},{"objectID":"Home","href":"usage/wrapper.html#settings","title":"Wrapper > Settings","text":"Settings\n\nSelect the target Proxy for Python in the Code Integration tab.\n\nThe settings page Python is visible when the target is selected:\n\nModule name (default $(project_name)): Name of the Python proxy.\nProvide either a name or use one of the following macros:\n\n$(project_name): aaa_BbbCcc –> aaa_bbb_ccc\n\n$(ProjectName): aaa_BbbCcc –> AaaBbbCcc\n\n$(PROJECT_NAME): aaa_BbbCcc –> AAA_BBB_CCC\n\n$(projectname): aaa_BbbCcc –> aaa_BbbCcc (unchanged)\n\nEnable co-simulation (default false): When selected, the Python proxy\ncontains additional instructions to open a SCADE Simulator session and\nautomatically redirects the changes to the inputs and the calls to the\ncyclic function.\n\nkcg_size (default int64): Corresponding C type for kcg_size,\nwhich is defined as int by default in kcg_types.h.\n\nkcg_false (default 0): Value of kcg_false.\n\nkcg_true (default 1): Value of kcg_true."},{"objectID":"Home","href":"usage/wrapper.html#code-generationbuild","title":"Wrapper > Code Generation/Build","text":"Code Generation/Build\n\nBuild the application using the Code Generator target Proxy for Python,\nas described in the former section.\nThis produces a DLL and its Python interface.\nThe implementation of the generated module relies on the ctypes module.\nIt is important to know its usage to access I/Os of complex types,\nfor example structures and arrays."},{"objectID":"Home","href":"usage/display.html#graphical-panels","title":"Graphical panels","text":"Graphical panels"},{"objectID":"Home","href":"usage/display.html#overview","title":"Graphical panels > Overview","text":"Overview\n\nThe support of SCADE Display or SCADE Rapid Prototyper is possible and is\npartially automated: the SCADE Display DLLs are built and loaded at run time,\nand the DLL exports all the required functions to access the displays.\nHowever, the Python ctype structures corresponding to the layers’ contexts\nmust be written manually for now.\n\nThe graphical panels are accessed independently from Python and thus,\nexisting mappings between SCADE Suite and SCADE Display are not considered.\n\nRationale: Although the proxy considers a single instance of each\ngraphical panel, the current design allows several instances of SCADE\nroot operators. The mapping cannot be applied."},{"objectID":"Home","href":"usage/display.html#usage","title":"Graphical panels > Usage","text":"Usage\n\nThe wrapper generates the file sdy_xxx.py where xxx is the name of the\nmodule generated for SCADE Suite. This file defines one global variable\nsdy_yyy per graphical panel Yyy with the following members:\n\nreset(): Reset the graphical panel, automatically called when the Python\nmodule is imported\n\ndraw(): Render the image\n\nlockio(): Lock the contexts before accessing any I/O\n\nunlockio(): Release the lock on the contexts\n\ncancelled() -> bool: Return True when the window is closed\n\nOne member per layer in the graphical panels, corresponding to the contexts:\nThe name of the variable is the name of the layer.\n\nThe type of these contexts must be written manually in a file called\nusr_xxx.py.\nThe class defining these contexts must inherit from SdyLayer, defined in\nthe sdyproxy.py resource file and must be named XxxLayer, where Xxx\nis the name of the corresponding layer."},{"objectID":"Home","href":"usage/display.html#example","title":"Graphical panels > Example","text":"Example\n\nConsider a SCADE Suite project application.etp containing a\nSCADE Display project with a graphical specification Panel.sgfx defining\na layer Symbology with the following interface:\n\n\n\n\n\nVariable\n\nType\n\nactive\n\nbool\n\nspeed\n\nfloat64\n\nSCADE KCG Display generates the following C context:\n\nYou must provide the corresponding Python structure in usr_application.py:\n\nNo consistency check is performed between the structure you define and the\none generated by SCADE Display KCG.\n\nThe Python code to access the graphical panel is rather straightforward:"},{"objectID":"Home","href":"getting_started/index.html#getting-started","title":"Getting started","text":"Getting started\n\nTo use Ansys SCADE Python Wrapper, you must have a valid license for Ansys SCADE.\n\nFor information on getting a licensed copy, see the\nAnsys SCADE Suite\npage on the Ansys website."},{"objectID":"Home","href":"getting_started/index.html#requirements","title":"Getting started > Requirements","text":"Requirements\n\nThe ansys-scade-python-wrapper package supports only the versions of Python delivered with\nAnsys SCADE, starting from 2021 R2:\n\n2021 R2 to 2023 R1: Python 3.7\n\n2023 R2 and later: Python 3.10"},{"objectID":"Home","href":"getting_started/index.html#install-in-user-mode","title":"Getting started > Install in user mode","text":"Install in user mode\n\nThe following steps are for installing Ansys SCADE Python Wrapper in user mode.\nIf you want to contribute to Ansys SCADE Python Wrapper,\nsee contribute_scade_python-wrapper for installing in developer mode.\n\nBefore installing Ansys SCADE Python Wrapper in user mode, run this command to ensure that\nyou have the latest version of pip:\n\nInstall Ansys SCADE Python Wrapper with this command:\n\nFor Ansys SCADE releases 2024 R2 and below, complete the installation with\nthese commands:\n\nThis additional step is not required when installing the package with\nAnsys SCADE Extension Manager.\n\n"},{"objectID":"Home","href":"usage/index.html#usage","title":"Usage","text":"Usage\n\n"},{"objectID":"Home","href":"usage/proxy.html#python-proxy","title":"Python proxy","text":"Python proxy\n\nThe Python module defines:\n\nA class per structure used in the interfaces of the root operators.\nThese classes derive from ctypes.Structure.\n\nA global variable sensors with one read/write property per sensor in the\nmodel.\n\nA class per root operator which defines:\n\nOne read/write property per input\n\nOne read-only property per output\n\nTwo functions to address the C code:\n\ncall_reset(self) -> None\n\ncall_cycle(self, cycles: int = 1, refresh: bool = True, debug: bool = False) -> None\n\nThe refresh and debug parameters are used for SCADE Suite co-simulation."},{"objectID":"Home","href":"usage/proxy.html#example","title":"Python proxy > Example","text":"Example\n\nThe python module’s usage is straightforward:\n\nCreate an instance of a root operator.\n\nCall its reset function.\n\nLoop:\n\nSet the sensors\n\nSet the inputs\n\nCall the cyclic function\n\nGet the outputs\n\nThe script hereafter is an example of client for the following model:"},{"objectID":"Home","href":"usage/proxy.html#access-to-values","title":"Python proxy > Access to values","text":"Access to values\n\nScalar values: Use Python literals\n\nComplex Values: Use Python tuples or ctypes literals\n\nConsider the following types:\n\nOK\n\nNOK"},{"objectID":"Home","href":"usage/proxy.html#limitations","title":"Python proxy > Limitations","text":"Limitations\n\nThe wrapper does not support for now the input_threshold and\nglobal_context KCG options."}]